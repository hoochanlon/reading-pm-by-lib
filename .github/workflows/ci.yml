# 名称

name: CI



# 当master分支有push或pull_request的时候会触发

on:

push:

branches: [ master ]


# A workflow run is made up of one or more jobs that can run sequentially or in parallel

jobs:

# build是一个job的名称，

build:

# The type of runner that the job will run on

runs-on: ubuntu-latest


# 下面是一个个step

steps:

# 切换到master分支

- uses: actions/checkout@master



# Runs a single command using the runners shell

# 这一步是安装node.js

- name: Setup Node.js environment

uses: actions/setup-node@v2.1.0

with:

node-version: '12.x'



# 这一步是安装依赖，然后打包

- name: Run install and build
  run: yarn && yarn build

    - name: Simple deploy with git
      uses: rdarida/simple-github-pages-deploy-action@v1
      with: # optional
        git-user: 'hoochanlon'
        git-email: 'hoochanlon@outlook.com'
        git-base-folder: 'docs/.vuepress/dist'
        commit-message: 'deploy'
        branch: 'gh-pages'
